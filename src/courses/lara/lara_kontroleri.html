<h1>Kontroleri</h1>

<br>U prethodnoj lekciji prikazano je kako se zahtev šalje http protokolu. Sada će biti prikazano isto, ali koristeći kontroler.

Kontroler kontroliše i upravlja slojevima aplikacija. U Laravelu slojevi aplikacije su sakriveni, a sve što korisnik dobija je 

reprezentacija, dok logika aplikacije ostaje sakrivena. Kontroleri se čuvaju u App/Http/Controllers folderu.

Kontroler se može napraviti "ručno" tako što se napravi PagesController.php fajl u App/Http/Controllers folderu i tamo iskuca sledeći kod:

<xmp class = "primer_ta"> 

<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class PagesController extends Controller
{
    public function home()
    {
        return view('welcome');
    }
}

?>
</xmp>
 
Primetite da kontroler ima funkciju home koja vraća početnu Laravel stranicu koja se dobija kada se pokrene Laravel aplikacija sa http://127.0.0.1:8000.

To će u routes/web.phph fajlu biti zadato sa:

<xmp class = "primer_ta"> Route::get('/', 'PagesController@home');</xmp>

Sada je napravljena PagesController klasa. Pomoću nje, dodavanje novih stranica nije teško. Potrebno je u web.php fajl dodati sledeći kod

<xmp class = "primer_ta"> 

Route::get('/about', 'PagesController@about');
Route::get('/contact', 'PagesController@contact');

</xmp>
Prvi argument je putanja koja se zadaje posle porta 8000, a drugi argument je funkcija koja će biti pozvana i ona mora biti globalna.
Sada u fajl PagesController.php dodajte kod

<xmp class = "primer_ta"> 

public function about()
{
    return view('aboutUs');
}

public function contact()
{
    return view('contact');
}
</xmp>

Na kraju web fajl izgleda kao na slici

<img src="courses/lara/images/web.png" >

Fajl PagesController.php izgleda kao na sledećoj slici

<img src="courses/lara/images/kontroler.png" >

Na kraju će biti napravljene stranice aboutUs i contact jednostavnim korišćenjem veb tehnologija HTML i CSS, a fajlovi about.blade.php i contact.blade.php

će se čuvati u resources/views folderu. U fajlu aboutUs.blade.php biće sledeći kod:

<xmp class = "primer_ta">
<html>
    <head>
        <title>About Page</title>

        <link href='//fonts.googleapis.com/css?family=Lato:100' rel='stylesheet' type='text/css'>

        <style>
            body {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100%;
                color: #B0BEC5;
                display: table;
                font-weight: 100;
                font-family: 'Lato';
            }

            .container {
                text-align: center;
                display: table-cell;
                vertical-align: middle;
            }

            .content {
                text-align: center;
                display: inline-block;
            }

            .title {
                font-size: 96px;
                margin-bottom: 40px;
            }

            .quote {
                font-size: 24px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="content">
                <div class="title">About Page</div>
                <div class="quote">Our about page!</div>
            </div>
        </div>
    </body>
</html>
</xmp>

U fajlu contact.blade.php biće sledeći kod:

<xmp class = "primer_ta">
<html>
    <head>
        <title>Contact Page</title>

        <link href='//fonts.googleapis.com/css?family=Lato:100' rel='stylesheet' type='text/css'>

        <style>
            body {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100%;
                color: #B0BEC5;
                display: table;
                font-weight: 100;
                font-family: 'Lato';
            }

            .container {
                text-align: center;
                display: table-cell;
                vertical-align: middle;
            }

            .content {
                text-align: center;
                display: inline-block;
            }

            .title {
                font-size: 96px;
                margin-bottom: 40px;
            }

            .quote {
                font-size: 24px;
            }
        </style>
    </head>
    <body>
    <div class="container">
        <div class="content">
            <div class="title">Contact Page</div>
            <div class="quote">Our contact page!</div>
        </div>
    </div>
    </body>
</html>
</xmp>

Kontolore je moguće napraviti koristeći artisan, preko naredbe <b>php artisan make:controller PagesController</b>, gde je PagesController ime kontrolera, a inače može biti bilo šta.
<br>
